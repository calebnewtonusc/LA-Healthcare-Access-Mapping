@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Light mode background layers */
  --bg-primary: #ffffff;
  --bg-secondary: #f8f9fa;
  --bg-tertiary: #e9ecef;

  /* Professional color palette */
  --primary-blue: #2563eb;
  --primary-purple: #7c3aed;
  --primary-green: #059669;
  --primary-red: #dc2626;

  /* Text colors */
  --text-primary: #111827;
  --text-secondary: #4b5563;
  --text-muted: #9ca3af;

  /* Border colors */
  --border-light: #e5e7eb;
  --border-medium: #d1d5db;
}

body {
  color: var(--text-primary);
  background: var(--bg-primary);
  font-variant-numeric: tabular-nums;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Accessibility improvements */
*:focus-visible {
  outline: 2px solid #2563eb;
  outline-offset: 2px;
  border-radius: 4px;
}

.dark *:focus-visible {
  outline-color: #00f5ff;
}

/* Skip to content link for screen readers */
.skip-to-content {
  position: absolute;
  left: -9999px;
  z-index: 999;
  padding: 1rem 1.5rem;
  background-color: #2563eb;
  color: white;
  text-decoration: none;
  border-radius: 0.5rem;
  font-weight: 600;
}

.skip-to-content:focus {
  left: 1rem;
  top: 1rem;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Custom scrollbar for webkit browsers */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--primary-blue);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary-purple);
}

/* Card utility classes */
@layer components {
  .card {
    @apply bg-white border border-gray-200 rounded-lg shadow-sm;
  }

  .card-hover {
    @apply card hover:shadow-md hover:border-blue-300 transition-all duration-200;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Print Stylesheet - optimized for printing and PDF generation */
@media print {
  /* Hide non-essential elements */
  nav,
  header,
  footer,
  .no-print,
  .export-menu,
  .mobile-nav,
  .back-to-top,
  .theme-toggle,
  .connection-indicator,
  button:not(.print-visible),
  .cookie-consent,
  .skip-to-content {
    display: none !important;
  }

  /* Expand all collapsible content */
  .accordion-content,
  [aria-hidden="true"] {
    display: block !important;
    height: auto !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Reset colors to black and white for better print quality */
  * {
    color: #000 !important;
    background: #fff !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Preserve borders for tables and cards */
  table,
  .card,
  .border,
  th,
  td {
    border: 1px solid #000 !important;
  }

  /* Page layout */
  @page {
    margin: 1.5cm;
    size: letter;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
    color: #000 !important;
    background: #fff !important;
  }

  /* Headings */
  h1 {
    font-size: 24pt;
    font-weight: bold;
    margin-top: 0;
    page-break-after: avoid;
  }

  h2 {
    font-size: 18pt;
    font-weight: bold;
    page-break-after: avoid;
    margin-top: 20pt;
  }

  h3 {
    font-size: 14pt;
    font-weight: bold;
    page-break-after: avoid;
  }

  /* Avoid breaking inside these elements */
  .recommendation-card,
  .metric-card,
  .card,
  .data-table,
  figure,
  table,
  tr,
  pre,
  blockquote {
    page-break-inside: avoid;
  }

  /* Add page breaks before major sections */
  section,
  article {
    page-break-before: auto;
  }

  /* Tables */
  table {
    width: 100%;
    border-collapse: collapse;
  }

  th,
  td {
    padding: 8pt;
    text-align: left;
    border: 1px solid #000;
  }

  th {
    font-weight: bold;
    background-color: #f0f0f0 !important;
  }

  /* Links - show URLs after link text */
  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 9pt;
    color: #666 !important;
    word-wrap: break-word;
  }

  /* Don't show URLs for internal links or skip-to-content */
  a[href^="#"]::after,
  a[href^="/"]::after,
  .skip-to-content::after {
    content: none;
  }

  /* Images */
  img {
    max-width: 100%;
    page-break-inside: avoid;
  }

  /* Code blocks */
  pre,
  code {
    font-family: 'Courier New', monospace;
    font-size: 10pt;
    white-space: pre-wrap;
    word-wrap: break-word;
    border: 1px solid #000;
    padding: 4pt;
  }

  /* Lists */
  ul,
  ol {
    margin-left: 20pt;
  }

  /* Disclaimer and warning boxes - preserve with border */
  .disclaimer,
  .warning,
  [class*="yellow-"],
  [class*="alert-"] {
    border: 2px solid #000 !important;
    padding: 10pt !important;
    margin: 10pt 0 !important;
    background-color: #f5f5f5 !important;
  }

  /* Charts - include alt text description */
  [role="img"]::after {
    content: " [Chart: " attr(aria-label) "]";
    display: block;
    font-size: 10pt;
    font-style: italic;
    margin-top: 5pt;
  }

  /* Container adjustments */
  .container {
    max-width: 100% !important;
    padding: 0 !important;
  }

  /* Remove gradients */
  [class*="gradient"],
  [class*="backdrop-blur"] {
    background-image: none !important;
    backdrop-filter: none !important;
  }

  /* Print-specific utilities */
  .print-only {
    display: block !important;
  }

  .print-hidden {
    display: none !important;
  }

  /* Add print date/time */
  body::before {
    content: "Printed: " attr(data-print-date);
    display: block;
    font-size: 9pt;
    text-align: right;
    color: #666 !important;
    margin-bottom: 10pt;
  }

  /* Preserve data tables */
  .data-table {
    display: table !important;
  }

  .data-table thead {
    display: table-header-group;
  }

  .data-table tbody {
    display: table-row-group;
  }

  /* Page numbering */
  @page {
    @bottom-right {
      content: "Page " counter(page) " of " counter(pages);
      font-size: 9pt;
    }
  }
}
